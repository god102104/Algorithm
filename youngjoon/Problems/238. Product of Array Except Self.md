---
layout: post
title: 238. Product of Array Except Self
category: leetcode
date: 2025-03-16 19:11:00 +0900
description: https://leetcode.com/problems/product-of-array-except-self/description/
img: leetcode.png # Add image post (optional)
fig-caption: # Add figcaption (optional)
status: success
---

# 238. Product of Array Except Self

Given an integer array nums, return an array answer such that answer[i] is equal to the product of all the elements of nums except nums[i].

The product of any prefix or suffix of nums is guaranteed to fit in a 32-bit integer.

You must write an algorithm that runs in O(n) time and without using the division operation.

 

> **Example 1**
> 
> Input: nums = [1,2,3,4]
> 
> Output: [24,12,8,6]


> **Example 2**
> 
> Input: nums = [-1,1,0,-3,3]
> 
> Output: [0,0,9,0,0]

### Solution
```cpp
class Solution {
public:

    vector<int> productExceptSelf(vector<int>& nums) {
        int tm = 1;
        vector<int> results;
        unordered_map<int,int> um;
        int cnt = 0;
        for(int i=0; i<nums.size(); i++){
            if(nums[i]==0){
                um[nums[i]]++;
                continue;
            }
            tm *= nums[i];
        }
        for(auto element:um){
            cout <<element.second<<endl;
        }
        if(um[0]>1){
            results.assign(nums.size(),0);
            return results;
        }
        for(int i=0; i<nums.size(); i++){
            if(um[0]==1 && nums[i]!=0){
                results.push_back(0);
            }
            else if(um[0]==1 && nums[i]==0){
                results.push_back(tm);
            }
            else results.push_back(tm/nums[i]);
        }
        return results;
    }
};
```